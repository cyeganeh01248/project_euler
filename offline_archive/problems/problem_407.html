<script src="/mathjax_config.js"></script>
<script
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>
<a href="/problem_408.html">Next</a> <a href="/problem_406.html">Previous</a>
<h1>Problem 407</h1>
<p>
    If we calculate $a^2 \bmod 6$ for $0 \leq a \leq 5$ we get: $0,1,4,3,4,1$.
</p>
<p>
    The largest value of $a$ such that $a^2 \equiv a \bmod 6$ is $4$.<br />
    Let's call $M(n)$ the largest value of $a \lt n$ such that $a^2 \equiv a
    \pmod n$.<br />
    So $M(6) = 4$.
</p>
<p>Find $\sum M(n)$ for $1 \leq n \leq 10^7$.</p>
