<script src="/mathjax_config.js"></script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><a href="/problem_398.html">Next</a> <a href="/problem_396.html">Previous</a><h1>Problem 397</h1><p>
On the parabola $y = x^2/k$, three points $A(a, a^2/k)$, $B(b, b^2/k)$ and $C(c, c^2/k)$ are chosen.
</p>
<p>
Let $F(K, X)$ be the number of the integer quadruplets $(k, a, b, c)$ such that at least one angle of the triangle $ABC$ is $45$-degree, with $1 \le k \le K$ and $-X \le a \lt b \lt c \le X$.
</p>
<p>
For example, $F(1, 10) = 41$ and $F(10, 100) = 12492$.<br>
Find $F(10^6, 10^9)$.
</p>
